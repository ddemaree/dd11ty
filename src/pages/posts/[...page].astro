---
import { getCollection, getEntryBySlug, CollectionEntry } from 'astro:content';
import SiteLayout from '@/components/SiteLayout.astro';
import IndexPost from './_IndexPost.astro';

const allBlogPosts = await getCollection('blog');
allBlogPosts.sort((a, b) => a.data.date > b.data.date ? -1 : 1);
---
<SiteLayout>
  {allBlogPosts.map((post: CollectionEntry<"blog">) => <IndexPost post={post} />)}
</SiteLayout>