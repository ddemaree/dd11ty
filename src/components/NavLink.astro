---
import type { IconDefinition } from '@fortawesome/fontawesome-svg-core'
import Icon from './Icon.astro';
import clsx from 'clsx';

export type Props = {
  label: string;
  url: string | URL;
  icon?: IconDefinition;
  isActive?: boolean;
  alwaysHideLabel?: boolean;
}

const { icon, url, label, isActive = false, alwaysHideLabel = false } = Astro.props;

const classes = [
  'nav-link',
  (alwaysHideLabel && 'scale-125'),
  (isActive && 'is-active')
]

const labelClasses = [
  'font-medium',
  (alwaysHideLabel && 'sr-only'),
  (isActive && 'font-semibold')
]

---
<a href={url} class={clsx(classes)}>
  {icon && <Icon icon={icon} fixedWidth={true} size="xs" wrapper={false} label={label} labelClass={labelClasses}></Icon>}
  {!icon && <span class:list={labelClasses}>{label}</span>}
</a>

<style>
.nav-link {
  display: inline-flex;
  column-gap: 0.35em;
}

.nav-link.is-active {
  background-color: var(--t--nav-link-bg, theme('colors.slate.300'));
}
</style>